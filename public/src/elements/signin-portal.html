<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">

<dom-module id="signin-portal">
	<template>
		<style>
			:host {
				display: block;
			}
			#trigger {
				font-size: 14px;
				--paper-button-ink-color: var(--accent-color);
			}
			#trigger > * {
				margin-right: 5px;
			}
			#trigger > iron-icon {
				color: var(--accent-color);
			}


			paper-input {
				min-width: 400px;
			}

		</style>
		
		<paper-button id="trigger" raised on-tap="toggle_dialog"> 
			<iron-icon icon="social:person"></iron-icon>
			<span>SIGN IN</span>
		</paper-button>
		



		<paper-dialog id="dialog" with-backdrop on-iron-overlay-opened="_patch_overlay">
			<h2> Sign In </h2>
			<paper-input placeholder="username"></paper-input>
			<paper-input type="password" placeholder="password"></paper-input>
			<div>(Use your SIT Net Credentials)</div>
			<div id="error">[[error_message]]</div>
			<div class="buttons">
				<paper-button dialog-dismiss>cancel</paper-button>
				<paper-button dialog-confirm autofocus>sign in</paper-button>
			</div>

		</paper-dialog>
	
	</template>
	<script>
		Polymer({
			is: 'signin-portal',

			toggle_dialog: function () {
				this.$.dialog.toggle();
			},

			// https://github.com/PolymerElements/paper-dialog/issues/7
			_patch_overlay: function (e) {
			  if (e.target.withBackdrop) {
			    e.target.parentNode.insertBefore(e.target.backdropElement, e.target);
			  }
			}
		});
	</script>
</dom-module>