<link rel="import" href="/behaviors/video-consumer.html">
<link rel="import" href="/behaviors/route-composer.html">
<link rel="import" href="/bower_components/iron-image/iron-image.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/styles/shared-styles.html">
<dom-module id="video-edit-card">
	<template>
		<style>
			:host {
				display: block;
				width: 100%;
				padding: 15px;
				@apply(--layout-horizontal);
			}
			
			iron-image {
				height: 90px;
				width: 120px;
				min-width: 120px;
				margin-right: 15px;
			}
			
			.card_content {
				padding-top: 0;
				@apply(--layout-vertical);
				@apply(--layout-justified);
				width: 100%;
			}

			.button_container {
				@apply(--layout-vertical);
				@apply(--layout-center-justified);				
			}

			paper-button {
				--paper-button-ink-color: var(--primary-color);
				border: solid 1px #d3d3d3;
				background: #f8f8f8;
				color: #333;
				box-shadow: 0 1px 0 rgba(0,0,0,0.05);
				padding: 8px 5px;
			}

		</style>

		<iron-image src="[[video.thumbnail_src]]" sizing="cover"></iron-image>
		<div class="card_content">
			<div>[[video.title]]</div>
			<div>[[get_time_string(video.duration)]]</div>
			<div>[[get_date_string(video.date_uploaded)]]</div>
		</div>
		<div class="button_container">
			<paper-button 
				data-route$="/edit/[[video.course.person.id]]/videos/[[video.id]]"
				on-tap="_request_inline_navigation_async"
			> Edit
			</paper-button>
		</div>
	</template>
	<script>
		Polymer({
			is: 'video-edit-card',
			
			behaviors: [Behaviors.video_consumer, Behaviors.route_composer],
		});
	</script>
</dom-module>