<script>
	var Behaviors = Behaviors || {};
	Behaviors.token_manager = (function () {

		var load_token = function () {
			var token = {};
			token.encoded = localStorage.getItem('auth_token');
			token.decoded = (token.encoded) ? jwt_decode(token.encoded) : {};
			this.token = token;
		};

		var save_token = function (encoded) {
			localStorage.setItem('auth_token', encoded);
			this.load_token();
		};

		var delete_token = function () {
			localStorage.removeItem('auth_token');
			this.load_token();
		};

		var properties = {
			token: {
				type: Object,
				value: {}
			}
		};


		return {
			save_token: save_token,
			load_token: load_token,
			delete_token: delete_token
		};

	}());
</script>